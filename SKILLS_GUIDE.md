# AI Skills ä½¿ç”¨æŒ‡å—

å®Œæ•´çš„ AI é©±åŠ¨ Skills ç³»ç»Ÿä½¿ç”¨æŒ‡å—ã€‚

## ğŸ¯ ä»€ä¹ˆæ˜¯ AI Skillsï¼Ÿ

AI Skills æ˜¯æ™ºèƒ½åˆ†ææ¨¡å—ï¼Œå¯ä»¥ï¼š
- **ç†è§£é¡¹ç›®**: è‡ªåŠ¨åˆ†æé¡¹ç›®ç»“æ„ã€ä»£ç å’Œä¾èµ–
- **å›ç­”é—®é¢˜**: åƒä¸ä¸“å®¶å¯¹è¯ä¸€æ ·è¯¢é—®é¡¹ç›®ç›¸å…³é—®é¢˜
- **æä¾›æ´å¯Ÿ**: è¯†åˆ«æ¶æ„æ¨¡å¼ã€ä»£ç é—®é¢˜å’Œæ”¹è¿›æœºä¼š

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ€ç®€å•çš„æ–¹å¼ï¼šäº¤äº’å¼é—®ç­”

```bash
# å¯åŠ¨é¡¹ç›®é—®ç­”
python skills/project_qa.py /path/to/your/project

# ç„¶åé—®ä»»ä½•é—®é¢˜
â“ æ‚¨çš„é—®é¢˜: é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ
â“ æ‚¨çš„é—®é¢˜: ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ
â“ æ‚¨çš„é—®é¢˜: æœ‰å“ªäº›ä¾èµ–ï¼Ÿ
â“ æ‚¨çš„é—®é¢˜: æœ‰ä»€ä¹ˆæ”¹è¿›å»ºè®®ï¼Ÿ
```

### å•ä¸ªé—®é¢˜æ¨¡å¼

```bash
# å¿«é€Ÿè·å–ç­”æ¡ˆ
python skills/project_qa.py ~/projects/my-app -q "é¡¹ç›®è¯„åˆ†æ˜¯å¤šå°‘ï¼Ÿ"
```

### ä»£ç æ´å¯Ÿåˆ†æ

```bash
# æ·±åº¦ä»£ç åˆ†æ
python skills/code_insight.py ~/projects/my-app
```

## ğŸ“š è¯¦ç»†ä½¿ç”¨

### 1. é¡¹ç›®é—®ç­” Skill

#### æ”¯æŒçš„é—®é¢˜ç±»å‹

| ç±»å‹ | å…³é”®è¯ | ç¤ºä¾‹é—®é¢˜ |
|------|--------|---------|
| **ç»“æ„** | ç»“æ„ã€ç›®å½•ã€æ–‡ä»¶ | "é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ"<br>"æœ‰å“ªäº›ç›®å½•ï¼Ÿ"<br>"æ–‡ä»¶æ˜¯å¦‚ä½•ç»„ç»‡çš„ï¼Ÿ" |
| **è´¨é‡** | è´¨é‡ã€å¤æ‚åº¦ã€é£æ ¼ | "ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ"<br>"å¤æ‚åº¦å¦‚ä½•ï¼Ÿ"<br>"æœ‰ä»€ä¹ˆè´¨é‡é—®é¢˜ï¼Ÿ" |
| **ä¾èµ–** | ä¾èµ–ã€åŒ…ã€åº“ | "æœ‰å“ªäº›ä¾èµ–ï¼Ÿ"<br>"ä½¿ç”¨äº†ä»€ä¹ˆåŒ…ï¼Ÿ"<br>"ä¾èµ–ç‰ˆæœ¬å¦‚ä½•ç®¡ç†ï¼Ÿ" |
| **è¯„åˆ†** | è¯„åˆ†ã€åˆ†æ•°ã€ç­‰çº§ | "é¡¹ç›®è¯„åˆ†æ˜¯å¤šå°‘ï¼Ÿ"<br>"ç­‰çº§æ˜¯ä»€ä¹ˆï¼Ÿ"<br>"å¾—åˆ†å¦‚ä½•ï¼Ÿ" |
| **æ–‡ä»¶** | æœ‰å“ªäº›ã€åŒ…å«ã€åˆ—å‡º | "æœ‰å“ªäº› Python æ–‡ä»¶ï¼Ÿ"<br>"åŒ…å«ä»€ä¹ˆæ–‡ä»¶ï¼Ÿ"<br>"åˆ—å‡ºæ‰€æœ‰ .js æ–‡ä»¶" |
| **æ”¹è¿›** | æ”¹è¿›ã€ä¼˜åŒ–ã€å»ºè®® | "æœ‰ä»€ä¹ˆæ”¹è¿›å»ºè®®ï¼Ÿ"<br>"å¦‚ä½•ä¼˜åŒ–ï¼Ÿ"<br>"éœ€è¦æ”¹è¿›ä»€ä¹ˆï¼Ÿ" |

#### ä½¿ç”¨ç¤ºä¾‹

```bash
# äº¤äº’å¼æ¨¡å¼ï¼ˆæ¨èï¼‰
python skills/project_qa.py ~/projects/my-app

# å•ä¸ªé—®é¢˜
python skills/project_qa.py ~/projects/my-app -q "é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ"

# JSON è¾“å‡ºï¼ˆç”¨äºè„šæœ¬ï¼‰
python skills/project_qa.py ~/projects/my-app -q "ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ" --json
```

#### Python API

```python
from pathlib import Path
from skills.project_qa import ProjectQASkill

# åˆå§‹åŒ–
skill = ProjectQASkill(Path('/path/to/project'))

# é—®é—®é¢˜
result = skill.ask("é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ")
print(result['answer'])

# äº¤äº’æ¨¡å¼
skill.interactive_mode()
```

### 2. ä»£ç æ´å¯Ÿ Skill

#### åˆ†æç»´åº¦

1. **æ¶æ„æ¨¡å¼è¯†åˆ«**
   - MVC (Model-View-Controller)
   - åˆ†å±‚æ¶æ„ (Layered Architecture)
   - å¾®æœåŠ¡ (Microservices)

2. **ä»£ç å¼‚å‘³æ£€æµ‹**
   - é•¿æ–¹æ³• (Long Method)
   - å¤§ç±» (Large Class)
   - å‚æ•°è¿‡å¤š (Too Many Parameters)

3. **å‡½æ•°ç‰¹å¾åˆ†æ**
   - é€’å½’å‡½æ•°
   - ç”Ÿæˆå™¨å‡½æ•°
   - å¼‚æ­¥å‡½æ•°
   - è£…é¥°å™¨ä½¿ç”¨

4. **ç±»å±‚æ¬¡åˆ†æ**
   - ç»§æ‰¿å…³ç³»
   - æŠ½è±¡ç±»
   - æ•°æ®ç±» (Dataclass)

#### ä½¿ç”¨ç¤ºä¾‹

```bash
# å®Œæ•´åˆ†æ
python skills/code_insight.py ~/projects/my-app

# ç‰¹å®šç±»åˆ«
python skills/code_insight.py ~/projects/my-app -c architecture_patterns
python skills/code_insight.py ~/projects/my-app -c code_smells
python skills/code_insight.py ~/projects/my-app -c function_analysis

# JSON è¾“å‡º
python skills/code_insight.py ~/projects/my-app --json
```

#### Python API

```python
from pathlib import Path
from skills.code_insight import CodeInsightSkill

# åˆå§‹åŒ–
skill = CodeInsightSkill(Path('/path/to/project'))

# è·å–æ‰€æœ‰æ´å¯Ÿ
insights = skill.get_insights()

# è·å–ç‰¹å®šç±»åˆ«
patterns = skill.get_insights('architecture_patterns')
smells = skill.get_insights('code_smells')

# æ ¼å¼åŒ–è¾“å‡º
print(skill.format_insights())
```

### 3. Skill ç®¡ç†å™¨

ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ Skillsã€‚

#### ä½¿ç”¨ç¤ºä¾‹

```bash
# äº¤äº’å¼æ¨¡å¼
python skills/skill_manager.py ~/projects/my-app

# åˆ—å‡ºæ‰€æœ‰ Skills
python skills/skill_manager.py ~/projects/my-app --list

# æ‰§è¡Œç‰¹å®š Skill
python skills/skill_manager.py ~/projects/my-app --skill qa --question "é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ"
python skills/skill_manager.py ~/projects/my-app --skill insight
```

#### Python API

```python
from pathlib import Path
from skills.skill_manager import SkillManager

# åˆå§‹åŒ–ç®¡ç†å™¨
manager = SkillManager(Path('/path/to/project'))

# åˆ—å‡º Skills
skills = manager.list_skills()
for skill in skills:
    print(f"{skill['id']}: {skill['name']}")

# ä½¿ç”¨ Skill
result = manager.execute('qa', 'ask', question="é¡¹ç›®è¯„åˆ†æ˜¯å¤šå°‘ï¼Ÿ")
print(result['answer'])

# è·å– Skill å®ä¾‹
insight_skill = manager.get_skill('insight')
print(insight_skill.format_insights())
```

## ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯ 1: å¿«é€Ÿäº†è§£æ–°é¡¹ç›®

```bash
# ç¬¬ä¸€æ­¥ï¼šè·å–é¡¹ç›®æ¦‚è§ˆ
python skills/project_qa.py ~/new-project -q "é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ"

# ç¬¬äºŒæ­¥ï¼šäº†è§£ä»£ç è´¨é‡
python skills/project_qa.py ~/new-project -q "ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ"

# ç¬¬ä¸‰æ­¥ï¼šæŸ¥çœ‹ä¾èµ–
python skills/project_qa.py ~/new-project -q "æœ‰å“ªäº›ä¾èµ–ï¼Ÿ"

# ç¬¬å››æ­¥ï¼šæ·±åº¦åˆ†æ
python skills/code_insight.py ~/new-project
```

### åœºæ™¯ 2: ä»£ç å®¡æŸ¥

```bash
# è¿è¡Œå®Œæ•´åˆ†æ
python skills/code_insight.py ~/project-to-review > review_report.txt

# æ£€æŸ¥ç‰¹å®šé—®é¢˜
python skills/code_insight.py ~/project-to-review -c code_smells --json | \
    python -m json.tool | grep -A 5 "severity.*high"
```

### åœºæ™¯ 3: é¡¹ç›®å¯¹æ¯”

```python
from pathlib import Path
from skills.skill_manager import SkillManager

projects = [
    Path('~/projects/app-v1'),
    Path('~/projects/app-v2'),
]

for project in projects:
    manager = SkillManager(project)
    result = manager.execute('qa', 'ask', question="é¡¹ç›®è¯„åˆ†æ˜¯å¤šå°‘ï¼Ÿ")

    print(f"\n{project.name}:")
    print(result['answer'])
```

### åœºæ™¯ 4: CI/CD é›†æˆ

```yaml
# .github/workflows/code-quality.yml
name: Code Quality Check

on: [push, pull_request]

jobs:
  analyze:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Install dependencies
        run: pip install -r requirements.txt

      - name: Check project score
        run: |
          SCORE=$(python skills/project_qa.py . -q "é¡¹ç›®è¯„åˆ†æ˜¯å¤šå°‘ï¼Ÿ" | grep -oE '[0-9]+' | head -1)
          echo "Project score: $SCORE/100"
          if [ "$SCORE" -lt 60 ]; then
            echo "::error::Project quality score is too low"
            exit 1
          fi

      - name: Detect code smells
        run: |
          python skills/code_insight.py . --json > insights.json
          SMELLS=$(python -c "import json; print(len(json.load(open('insights.json'))['code_smells']))")
          echo "Code smells detected: $SMELLS"
          if [ "$SMELLS" -gt 20 ]; then
            echo "::warning::Too many code smells detected"
          fi
```

### åœºæ™¯ 5: å®šæœŸæŠ¥å‘Š

```bash
#!/bin/bash
# weekly_report.sh

DATE=$(date +%Y%m%d)
PROJECT_PATH="$1"
OUTPUT_DIR="reports"

mkdir -p "$OUTPUT_DIR"

echo "ç”Ÿæˆé¡¹ç›®åˆ†ææŠ¥å‘Š: $DATE"

# é¡¹ç›®æ¦‚è§ˆ
python skills/project_qa.py "$PROJECT_PATH" -q "é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ" > "$OUTPUT_DIR/overview_$DATE.txt"

# è´¨é‡è¯„ä¼°
python skills/project_qa.py "$PROJECT_PATH" -q "ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ" >> "$OUTPUT_DIR/overview_$DATE.txt"

# è¯„åˆ†
python skills/project_qa.py "$PROJECT_PATH" -q "é¡¹ç›®è¯„åˆ†æ˜¯å¤šå°‘ï¼Ÿ" >> "$OUTPUT_DIR/overview_$DATE.txt"

# æ”¹è¿›å»ºè®®
python skills/project_qa.py "$PROJECT_PATH" -q "æœ‰ä»€ä¹ˆæ”¹è¿›å»ºè®®ï¼Ÿ" >> "$OUTPUT_DIR/overview_$DATE.txt"

# æ·±åº¦åˆ†æ
python skills/code_insight.py "$PROJECT_PATH" > "$OUTPUT_DIR/insights_$DATE.txt"

echo "æŠ¥å‘Šå·²ç”Ÿæˆ: $OUTPUT_DIR/"
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### 1. æ‰¹é‡é¡¹ç›®åˆ†æ

```python
#!/usr/bin/env python3
"""æ‰¹é‡åˆ†æå¤šä¸ªé¡¹ç›®"""

from pathlib import Path
from skills.skill_manager import SkillManager
import json

def analyze_projects(project_dirs):
    results = []

    for project_path in project_dirs:
        project_path = Path(project_path).expanduser()

        if not project_path.exists():
            continue

        print(f"\nåˆ†æ: {project_path.name}")
        print("=" * 60)

        manager = SkillManager(project_path)

        # è·å–è¯„åˆ†
        score_result = manager.execute('qa', 'ask', question="é¡¹ç›®è¯„åˆ†æ˜¯å¤šå°‘ï¼Ÿ")

        # è·å–æ´å¯Ÿ
        insight_skill = manager.get_skill('insight')
        insights = insight_skill.get_insights()

        results.append({
            'project': project_path.name,
            'path': str(project_path),
            'score': score_result,
            'code_smells': len(insights['code_smells']),
            'architecture': insights['architecture_patterns']['detected_patterns']
        })

    # ä¿å­˜ç»“æœ
    with open('batch_analysis.json', 'w', encoding='utf-8') as f:
        json.dump(results, f, indent=2, ensure_ascii=False)

    print("\nç»“æœå·²ä¿å­˜åˆ°: batch_analysis.json")

if __name__ == '__main__':
    projects = [
        '~/projects/app1',
        '~/projects/app2',
        '~/projects/app3',
    ]

    analyze_projects(projects)
```

### 2. è‡ªå®šä¹‰é—®é¢˜å¤„ç†

```python
from skills.project_qa import ProjectQASkill
from pathlib import Path

class CustomQASkill(ProjectQASkill):
    """è‡ªå®šä¹‰é—®ç­” Skill"""

    def _classify_question(self, question: str) -> str:
        """æ‰©å±•é—®é¢˜åˆ†ç±»"""
        # æ·»åŠ è‡ªå®šä¹‰ç±»åˆ«
        if 'å®‰å…¨' in question or 'security' in question.lower():
            return 'security'

        # è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        return super()._classify_question(question)

    def _answer_security_question(self, question: str):
        """å›ç­”å®‰å…¨ç›¸å…³é—®é¢˜"""
        # è‡ªå®šä¹‰å®‰å…¨åˆ†æé€»è¾‘
        return {
            'question': question,
            'type': 'security',
            'answer': 'å®‰å…¨åˆ†æç»“æœ...',
            'details': {}
        }

# ä½¿ç”¨è‡ªå®šä¹‰ Skill
skill = CustomQASkill(Path('/path/to/project'))
result = skill.ask("é¡¹ç›®æœ‰å“ªäº›å®‰å…¨é—®é¢˜ï¼Ÿ")
print(result['answer'])
```

### 3. é›†æˆå¤–éƒ¨å·¥å…·

```python
from skills.code_insight import CodeInsightSkill
from pathlib import Path
import subprocess
import json

class EnhancedInsightSkill(CodeInsightSkill):
    """å¢å¼ºçš„æ´å¯Ÿ Skill"""

    def _analyze_code(self):
        """æ‰©å±•åˆ†æ"""
        # è°ƒç”¨çˆ¶ç±»åˆ†æ
        super()._analyze_code()

        # æ·»åŠ  pylint åˆ†æ
        self.insights['pylint_results'] = self._run_pylint()

    def _run_pylint(self):
        """è¿è¡Œ pylint"""
        python_files = list(self.project_path.rglob("*.py"))[:5]
        results = []

        for file_path in python_files:
            try:
                result = subprocess.run(
                    ['pylint', str(file_path), '--output-format=json'],
                    capture_output=True,
                    text=True,
                    timeout=30
                )

                if result.stdout:
                    data = json.loads(result.stdout)
                    results.append({
                        'file': str(file_path.relative_to(self.project_path)),
                        'issues': len(data)
                    })
            except:
                pass

        return results

# ä½¿ç”¨å¢å¼º Skill
skill = EnhancedInsightSkill(Path('/path/to/project'))
insights = skill.get_insights()
print(f"Pylint ç»“æœ: {insights['pylint_results']}")
```

## ğŸ“Š è¾“å‡ºæ ¼å¼

### æ–‡æœ¬æ ¼å¼

é€‚åˆäººç±»é˜…è¯»ï¼š

```
ğŸ“ é¡¹ç›®ç»“æ„åˆ†æï¼š

**åŸºæœ¬ä¿¡æ¯**
- é¡¹ç›®åç§°: my-project
- é¡¹ç›®ç±»å‹: Python
- é¡¹ç›®å¤§å°: 1.2 MB
- æ€»æ–‡ä»¶æ•°: 45

**æ–‡ä»¶ç±»å‹åˆ†å¸ƒ**
- .py: 30 ä¸ªæ–‡ä»¶
- .md: 5 ä¸ªæ–‡ä»¶
```

### JSON æ ¼å¼

é€‚åˆç¨‹åºå¤„ç†ï¼š

```json
{
  "question": "é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ",
  "type": "structure",
  "answer": "...",
  "details": {
    "total_files": 45,
    "file_types": {
      "py": 30,
      "md": 5
    }
  }
}
```

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1: å¯¼å…¥é”™è¯¯

```
ModuleNotFoundError: No module named 'src'
```

**è§£å†³æ–¹æ¡ˆ**: ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ

```bash
cd /path/to/error_report
python skills/project_qa.py /path/to/target/project
```

### é—®é¢˜ 2: åˆ†æé€Ÿåº¦æ…¢

**è§£å†³æ–¹æ¡ˆ**: é™åˆ¶åˆ†ææ–‡ä»¶æ•°é‡

ç¼–è¾‘ Skill æ–‡ä»¶ï¼Œä¿®æ”¹ï¼š
```python
for file_path in python_files[:10]:  # åªåˆ†æå‰ 10 ä¸ª
```

### é—®é¢˜ 3: å†…å­˜å ç”¨é«˜

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ç”Ÿæˆå™¨

```python
def _scan_files_generator(self):
    for file_path in self.project_path.rglob("*.py"):
        yield file_path
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Skills README](skills/README.md) - è¯¦ç»†æŠ€æœ¯æ–‡æ¡£
- [é¡¹ç›®åˆ†ææ¨¡å—](src/analyzers/README.md) - åº•å±‚åˆ†æå¼•æ“
- [ä½¿ç”¨ç¤ºä¾‹](USAGE_EXAMPLES.md) - æ›´å¤šç¤ºä¾‹

## ğŸ“ æœ€ä½³å®è·µ

1. **å…ˆé—®æ¦‚è§ˆé—®é¢˜**: ä»"é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ"å¼€å§‹
2. **é€æ­¥æ·±å…¥**: æ ¹æ®ç­”æ¡ˆæå‡ºæ›´å…·ä½“çš„é—®é¢˜
3. **ç»“åˆä½¿ç”¨**: é—®ç­” + æ´å¯Ÿåˆ†æè·å¾—å®Œæ•´è§†å›¾
4. **å®šæœŸåˆ†æ**: è®¾ç½®å®šæ—¶ä»»åŠ¡è·Ÿè¸ªé¡¹ç›®å¥åº·åº¦
5. **é›†æˆ CI/CD**: è‡ªåŠ¨åŒ–è´¨é‡æ£€æŸ¥

---

**æœ€åæ›´æ–°**: 2025-12-11
**ç‰ˆæœ¬**: 1.0.0
